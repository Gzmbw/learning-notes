%-*- coding: UTF-8 -*-
% Math.tex
%
\documentclass[UTF8]{ctexart}
\usepackage{geometry}
\geometry{a4paper, centering, scale=0.8}
\usepackage{minted}
\usepackage{amsmath}
\usepackage{amssymb} % to use \mathbb

\title{\heiti Chapter 3 Typesetting Mathematical Formulae}
\author{\kaishu Du Ang \\ \texttt{du2ang233@gmail.com} }
\date{\today}

\DeclareMathOperator{\argh}{argh}
\DeclareMathOperator*{\nut}{Nut}

\begin{document}
\maketitle

\tableofcontents

\newpage

本章将简单地介绍如何用 \LaTeX 进行它所擅长的数学排版。如果这一章介绍的数学排版内容无法解决你的问题，不要灰心，使用
\AmS-\LaTeX{} 宏集，一般都能找到答案。

\section{\AmS-\LaTeX{} 宏集}
\AmS-\LaTeX{}宏集是一些用于数学排版的包和类的集合，可以排版出高质量的数学内容。\texttt{amsmath} 宏包是这个宏集的
核心部分，一般用这个就足够了。\AmS-\LaTeX{}是由美国数学学会（American Mathematical Society）提供的对 \LaTeX
原生的数学公式排版的扩展，目前 \TeX{}最近的发行版都默认包含它了。在本章，需要在导言区使用
\mintinline{LaTeX}{\usepackage{amsmath}} 命令引入 \texttt{amsmath} 宏包。

\section{单个方程}
行内公式应该放在一对 \texttt{\$} 之间。

示例代码：
\begin{minted}{LaTeX}
    Add $a$ squared and $b$ squared to get $c$ squared. Or, using
    a more mathematical approach:
    $a^2 + b^2 = c^2$

    \TeX{} is pronounced as $\tau\epsilon\chi$ \\ [5pt]
    100~m$^{3}$ of water \\ [5pt]
    This comes from my $\heartsuit$
\end{minted}

示例输出：
\begin{quote}
    Add $a$ squared and $b$ squared to get $c$ squared. Or, using a more mathematical approach:
    $a^2 + b^2 = c^2$

    \TeX{} is pronounced as $\tau\epsilon\chi$ \\ [5pt]
    100~m$^{3}$ of water \\ [5pt]
    This comes from my $\heartsuit$
\end{quote}

行间公式放在 \mintinline{LaTeX}{\begin{equation}} 和 \mintinline{LaTeX}{\end{equation}} 之间。可以通过
\mintinline{LaTeX}{\labell} 和 \mintinline{LaTeX}{\eqref} 来给公式添加标签和建立引用，用
\mintinline{LaTeX}{\tag} 来给公式指定具体的名字。

示例代码：
\begin{minted}{LaTeX}
    Add $a$ squared and $b$ squared to get $c$ squared. Or, using
    a more mathematical approach:
        \begin{equation}
            a^2 + b^2 = c^2
        \end{equation}
    Einstein says
        \begin{equation}
            E = mc^2 \label{clever}
        \end{equation}
    He didn't say
        \begin{equation}
            1 + 1 = 3 \tag{dumb}
        \end{equation}
    This a reference to \eqref{clever}.
\end{minted}

示例输出：
\begin{quote}
    Add $a$ squared and $b$ squared to get $c$ squared. Or, using
    a more mathematical approach:
        \begin{equation}
            a^2 + b^2 = c^2
        \end{equation}
    Einstein says
        \begin{equation}
            E = mc^2 \label{clever}
        \end{equation}
    He didn't say
        \begin{equation}
            1 + 1 = 3 \tag{dumb}
        \end{equation}
    This a reference to \eqref{clever}.
\end{quote}

如果不想给公式编号，用 \texttt{equation} 的加星版本 \texttt{equation*}；或者把公式放在
\mintinline{LaTeX}{\[} 和 \mintinline{LaTeX}{\]} 之间。

示例代码：
\begin{minted}{LaTeX}
    Add $a$ squared and $b$ squared to get $c$ squared. Or, using a more mathematical approach
        \begin{equation*}
            a^2 + b^2 = c^2
        \end{equation*}
    or you can type less for the same effect:
        \[ a^2 + b^2 = c^2 \]
\end{minted}

示例输出：
\begin{quote}
    Add $a$ squared and $b$ squared to get $c$ squared. Or, using a more mathematical approach
        \begin{equation*}
            a^2 + b^2 = c^2
        \end{equation*}
    or you can type less for the same effect:
        \[ a^2 + b^2 = c^2 \]
\end{quote}

虽然 \mintinline{LaTex}{\[} 和 \mintinline{LaTeX}{\]} 很简洁，但是使用时不能像 \texttt{equation} 和
\texttt{equation*} 那样在有编号和无编号之间切换。

注意排版格式中行内公式（text style）和行间公式（display style）的区别。

示例代码：
\begin{minted}{LaTeX}
    This is text style:
    $\lim_{n \to \infty} \sum_{k=1}^n \frac{1}{k^2} = \frac{\pi^2}{6}$.

    And this is display style:
        \begin{equation}
            \lim_{n \to \infty} \sum_{k=1}^n \frac{1}{k^2} = \frac{\pi^2}{6}
        \end{equation}
\end{minted}

示例输出：
\begin{quote}
    This is text style:
    $\lim_{n \to \infty} \sum_{k=1}^n \frac{1}{k^2} = \frac{\pi^2}{6}$.

    And this is display style:
        \begin{equation}
            \lim_{n \to \infty} \sum_{k=1}^n \frac{1}{k^2} = \frac{\pi^2}{6}
        \end{equation}
\end{quote}

在排版行间公式时，可以把一些比较高的公式放在 \mintinline{LaTeX}{\smash} 命令里，让 \LaTeX 忽略这些公式的高度，使
行间距保持不变。

示例代码：
\begin{minted}{LaTeX}
    A $d_{e_{e_{p_{e_r}}}}$ mathematical expression followed \\
    by a $h^{i^{g^{h^{e^r}}}}$ expression. As opposed to a \\
    smashed \smash{$d_{e_{e_{p_{e_r}}}}$} expression followed by a
    \smash{$h^{i^{g^{h^{e^r}}}}$} \\ expression.
\end{minted}

示例输出：
\begin{quote}
    A $d_{e_{e_{p_{e_r}}}}$ mathematical expression followed \\
    by a $h^{i^{g^{h^{e^r}}}}$ expression. As opposed to a \\
    smashed \smash{$d_{e_{e_{p_{e_r}}}}$} expression followed by a
    \smash{$h^{i^{g^{h^{e^r}}}}$} \\ expression.
\end{quote}

\subsection{数学模式（Math Mode）}
当使用 \mintinline{LaTeX}{$} 开启行内公式输入，或是使用 \mintinline{LaTeX}{\[} 命令、\texttt{equation} 环
境时，就进入了数学模式。数学模式相比于文本模式（text mode）有以下特点:
\begin{enumerate}
    \item 大多数的空格、换行都不起作用，数学符号的间隙默认完全由符号的性质（关系符号、运算符等）决定。需要人为引入空
    隙时，使用 \mintinline{LaTeX}{\,}、\mintinline{LaTeX}{\quad} 和 \mintinline{LaTeX}{\qquad} 等命令
    \item 不允许有空行、分段
    \item 所有的字母被当作公式中的变量处理，字母间距与文本模式不一致，也无法生成单词间的空格。如果想在数学公式中输入
    正体的文本，可以使用 \mintinline{LaTeX}{\text{...}} 命令
\end{enumerate}

示例代码：
\begin{minted}{LaTeX}
    $\forall x \in \mathbf{R}: \qquad x^{2} \geq 0$

    $x^{2} \geq 0\qquad \text{for all }x\in\mathbf{R}$
\end{minted}

示例输出：
\begin{quote}
    $\forall x \in \mathbf{R}: \qquad x^{2} \geq 0$

    $x^{2} \geq 0\qquad \text{for all }x\in\mathbf{R}$
\end{quote}

数学家们对应该使用什么符号很挑剔：上面的公式最好使用“blackboard bold”字体，可以使用 \texttt{amssymb} 宏包里的
\mintinline{LaTeX}{\mathbb} 命令来完成。

示例代码：
\begin{minted}{LaTeX}
    $x^{2} \geq 0\qquad \text{for all } x \in \mathbb{R}$
\end{minted}

示例输出：
\begin{quote}
    $x^{2} \geq 0\qquad \text{for all } x \in \mathbb{R}$
\end{quote}

\section{构建数学公式块}
在这一小节中大部分的命令都不需要引入 \texttt{amsmath} 宏包。

\subsection{希腊字母}
小写希腊字母通过 \mintinline{LaTeX}{\alpha}、\mintinline{LaTeX}{\beta}、\mintinline{LaTeX}{\gamma} 等输
入，大写希腊字母通过 \mintinline{LaTeX}{\Gamma}、\mintinline{LaTeX}{\Delta} 等输入。

示例代码：
\begin{minted}{LaTeX}
    $\lambda, \xi, \pi, \theta, \mu, \Phi, \Omega, \Delta$
\end{minted}

示例输出：
\begin{quote}
    $\lambda, \xi, \pi, \theta, \mu, \Phi, \Omega, \Delta$
\end{quote}

\subsection{指数（Exponents），上标（Superscripts），下标（Subscripts）}
指数、上标和下标可以分别通过 \mintinline{LaTeX}{^} 和 \mintinline{LaTeX}{_} 指定。大多数的数学模式命令仅对它之后
的那个字母起作用，所以如果想对多个字母起作用，应该用 \mintinline{LaTeX}|{...}| 括起来。

示例代码：
\begin{minted}{LaTeX}
    $p^3_{ij} \qquad m_\text{Knuth}\qquad \sum_{k=1}^3 k \\[5pt]
    a^x+y \neq a^{x+y}\qquad e^{x^2} \neq {e^x}^2$
\end{minted}

示例输出：
\begin{quote}
    $p^3_{ij} \qquad m_\text{Knuth}\qquad \sum_{k=1}^3 k \\[5pt]
    a^x+y \neq a^{x+y}\qquad e^{x^2} \neq {e^x}^2$
\end{quote}

\subsection{根式}
通过 \mintinline{LaTeX}{\sqrt} 输入平方根（square root）；通过 \mintinline{LaTeX}{\sqrt[n]} 输入n次方根。
根号的大小是由 \LaTeX 自动决定的，如果只需要一个符号标记，可以用 \mintinline{LaTeX}{\surd} 命令。

示例代码：
\begin{minted}{LaTeX}
    $\sqrt{x} \Leftrightarrow x^{1/2} \quad \sqrt[3]{2} \quad \sqrt{x^{2} + \sqrt{y}}
    \quad \surd[x^2 + y^2]$
\end{minted}

示例输出：
\begin{quote}
    $\sqrt{x} \Leftrightarrow x^{1/2} \quad \sqrt[3]{2} \quad \sqrt{x^{2} + \sqrt{y}}
    \quad \surd[x^2 + y^2]$
\end{quote}

\subsection{点}
示例代码：
\begin{minted}{LaTeX}
    $\Psi = v_1 \cdot v_2 \cdot \ldots \qquad n! = 1 \cdot 2 \cdots (n-1) \cdot n
    \qquad \vdots \qquad \ddots$
\end{minted}

示例输出：
\begin{quote}
    $\Psi = v_1 \cdot v_2 \cdot \ldots \qquad n! = 1 \cdot 2 \cdots (n-1) \cdot n
    \qquad \vdots \qquad \ddots$
\end{quote}

\subsection{横线}
利用 \mintinline{LaTeX}{\overline} 和 \mintinline{LaTeX}{\underline} 命令来产生上划线和下划线。

示例代码：
\begin{minted}{LaTeX}
    $0.\overline{3} = \underline{\underline{1/3}}$
\end{minted}

示例输出：
\begin{quote}
    $0.\overline{3} = \underline{\underline{1/3}}$
\end{quote}

\subsection{水平花括号}
利用 \mintinline{LaTeX}{\overbrace} 和 \mintinline{LaTeX}{\underbrace} 命令来产生水平的上、下花括号。

示例代码：
\begin{minted}{LaTeX}
    $\underbrace{\overbrace{a+b+c}^6 \cdot \overbrace{d+e+f}^7}_\text{meaning of life} = 42$
\end{minted}

示例输出：
\begin{quote}
    $\underbrace{\overbrace{(a+b+c)}^6 \cdot \overbrace{(d+e+f)}^7}_\text{meaning of life} = 42$
\end{quote}

\subsection{数学重音符号}
示例代码：
\begin{minted}{LaTeX}
    $f(x) = x^2 \qquad f'(x) = 2x \qquad f''(x) = 2\\[5pt]
    \hat{XY} \quad \widehat{XY} \quad \bar{x_0} \quad \bar{x}_0\\[5pt]
    \tilde{a} \quad \widetilde{a}$
\end{minted}

注意：上面示例代码中，\mintinline{LaTeX}{\\} 命令后跟了可选参数 \mintinline{LaTeX}{[5pt]} 来增加额外的行距。

示例输出：
\begin{quote}
    $f(x) = x^2 \qquad f'(x) = 2x \qquad f''(x) = 2\\[5pt]
    \hat{XY} \quad \widehat{XY} \quad \bar{x_0} \quad \bar{x}_0\\[5pt]
    \tilde{a} \quad \widetilde{a}$
\end{quote}

\subsection{向量}
在变量上加箭头来表示向量，可以通过 \mintinline{LaTeX}{\vec} 命令完成。

示例代码：
\begin{minted}{LaTeX}
    $\vec{a} \qquad \vec{AB} \qquad \overrightarrow{AB}$
\end{minted}

示例输出：
\begin{quote}
    $\vec{a} \qquad \vec{AB} \qquad \overrightarrow{AB}$
\end{quote}

\subsection{函数名}
在排版数学公式时，通常函数名不像变量那样用斜体，所以要用命令来进行区别。下面是 \LaTeX 中常用的函数名命令：

\begin{tabular}{lllllll}
    \mintinline{LaTeX}{\arccos} & \mintinline{LaTeX}{\cos} & \mintinline{LaTeX}{\csc}
        & \mintinline{LaTeX}{\exp} & \mintinline{LaTeX}{\ker} & \mintinline{LaTeX}{\limsup} \\
    \mintinline{LaTeX}{\arcsin} & \mintinline{LaTeX}{\cosh} & \mintinline{LaTeX}{\deg}
        & \mintinline{LaTeX}{\gcd} & \mintinline{LaTeX}{\lg} & \mintinline{LaTeX}{\ln} \\
    \mintinline{LaTeX}{\arctan} & \mintinline{LaTeX}{\cot} & \mintinline{LaTeX}{\det}
        & \mintinline{LaTeX}{\hom} & \mintinline{LaTeX}{\lim} & \mintinline{LaTeX}{\log} \\
    \mintinline{LaTeX}{\arg} & \mintinline{LaTeX}{\coth} & \mintinline{LaTeX}{\dim}
        & \mintinline{LaTeX}{\inf} & \mintinline{LaTeX}{\liminf} & \mintinline{LaTeX}{\max} \\
    \mintinline{LaTeX}{\sinh} & \mintinline{LaTeX}{\sup} & \mintinline{LaTeX}{\tan}
        & \mintinline{LaTeX}{\tanh} & \mintinline{LaTeX}{\min} & \mintinline{LaTeX}{\Pr} \\
    \mintinline{LaTeX}{\sec} & \mintinline{LaTeX}{\sin} & & & &
\end{tabular}

对于上面没有列出的一些函数，可以在导言区用 \mintinline{LaTeX}{\DeclareMathOperator} 或其加星版本的命令来定义。
加星和不加星版本主要是在显示为行内公式还是行间公式上有区别。
\footnote{MathJax: \textbackslash DeclareMathOperator and \textbackslash operatorname
vs starred versions: http://mathb.in/13571}

示例代码：
\begin{minted}{LaTeX}
    \begin{equation*}
        \lim_{x \rightarrow 0} \frac{\sin x}{x} = 1
    \end{equation*}

    % \DeclareMathOperator{\argh}{argh}
    % \DeclareMathOperator*{\nut}{Nut}
    \begin{equation*}
        3\argh = 2\nut_{x=1}
    \end{equation*}
\end{minted}

示例输出：
\begin{quote}
    \begin{equation*}
        \lim_{x \rightarrow 0} \frac{\sin x}{x} = 1
    \end{equation*}

    % \DeclareMathOperator{\argh}{argh}
    % \DeclareMathOperator*{\nut}{Nut}
    \begin{equation*}
        3\argh = 2\nut_{x=1}
    \end{equation*}
\end{quote}

\subsection{取模函数}
取模函数有两种命令：\mintinline{LaTeX}{\bmod} 和 \mintinline{LaTeX}{\pmod}。

示例代码：
\begin{minted}{LaTeX}
    $a\bmod b \\
     x\equiv a \pmod{b}$
\end{minted}

示例输出：
\begin{quote}
    $a\bmod b \\
     x\equiv a \pmod{b}$
\end{quote}

\subsection{分式和偏导}
可以通过 \mintinline{LaTeX}{\frac{...}{...}} 命令来排版分式。在行内公式中，分式会收缩以和所在行保持一致。可以通
过 \mintinline{LaTeX}{\tfrac} 命令在行间公式中将分式强制显示为行内模式，同样地，也可以通过
\mintinline{LaTeX}{\dfrac} 命令在行内公式中将分式强制显示为行间模式。一般，在行间公式中更经常使用斜杠的形式来表示
比较短的分式，如1/2。

示例代码：
\begin{minted}{LaTeX}
    In display style:
    \begin{equation*}
        3/8 \qquad \frac{3}{8} \qquad \tfrac{3}{8}
    \end{equation*}

    In text style:
    $1\frac{1}{2}$~hours \qquad $1\dfrac{1}{2}$~hours
\end{minted}

示例输出：
\begin{quote}
    In display style:
    \begin{equation*}
        3/8 \qquad \frac{3}{8} \qquad \tfrac{3}{8}
    \end{equation*}

    In text style:
    $1\frac{1}{2}$~hours \qquad $1\dfrac{1}{2}$~hours
\end{quote}

使用 \mintinline{LaTeX}{\partial} 命令来输入偏导符号。

示例代码：
\begin{minted}{LaTeX}
    \begin{equation*}
        \sqrt{\frac{x^2}{k+1}} \qquad x^\frac{2}{k+1} \qquad
        \frac{\partial^2f}{\partial x^2}
    \end{equation*}
\end{minted}

示例输出：
\begin{quote}
    \begin{equation*}
        \sqrt{\frac{x^2}{k+1}} \qquad x^\frac{2}{k+1} \qquad
        \frac{\partial^2f}{\partial x^2}
    \end{equation*}
\end{quote}

\subsection{二项式系数和符号堆叠}
可以通过 \texttt{amsmath} 宏包里的 \mintinline{LaTeX}{\binom} 命令来排版二项式系数
（binomial coefficients）。

示例代码：
\begin{minted}{LaTeX}
    Pascal's rule is
    \begin{equation*}
        \binom{n}{k} = \binom{n-1}{k} + \binom{n-1}{k-1}
    \end{equation*}
\end{minted}

示例输出：
\begin{quote}
    Pascal's rule is
    \begin{equation*}
        \binom{n}{k} = \binom{n-1}{k} + \binom{n-1}{k-1}
    \end{equation*}
\end{quote}

对于一些二元关系，有时候可能需要对符号进行堆叠，这时可以使用 \mintinline{LaTeX}{\stackrel{#1}{#2}} 命令。其中
\mintinline{LaTeX}{#1} 会变成上标大小，\mintinline{LaTeX}{#2} 会保持原来的大小和位置。

示例代码：
\begin{minted}{LaTeX}
    \begin{equation*}
        f_n(x) \stackrel{*}{\approx} 1
    \end{equation*}
\end{minted}

示例输出：
\begin{quote}
    \begin{equation*}
        f_n(x) \stackrel{*}{\approx} 1
    \end{equation*}
\end{quote}

\subsection{积分运算符、求和运算符、乘积运算符}
分别用 \mintinline{LaTeX}{\int}、\mintinline{LaTeX}{\sum}、\mintinline{LaTeX}{\prod} 命令来输入积分运算
符、求和运算符和乘积运算符。

示例代码：
\begin{minted}{LaTeX}
    \begin{equation*}
        \sum_{i=1}^n \qquad \int_0^{\frac{\pi}{2}} \qquad \prod_\epsilon
    \end{equation*}
\end{minted}

示例输出：
\begin{quote}
    \begin{equation*}
        \sum_{i=1}^n \qquad \int_0^{\frac{\pi}{2}} \qquad \prod_\epsilon
    \end{equation*}
\end{quote}

在更复杂的表达式中，可以通过 \texttt{amsmath} 宏包中的 \mintinline{LaTeX}{\substack} 命令来更好地控制索引的位
置。

示例代码：
\begin{minted}{LaTeX}
    \begin{equation*}
        \sum^n_{\substack{0<i<n \\ j\subseteq i}} P(i,j) = Q(i,j)
    \end{equation*}
\end{minted}

示例输出：
\begin{quote}
    \begin{equation*}
        \sum^n_{\substack{0<i<n \\ j\subseteq i}} P(i,j) = Q(i,j)
    \end{equation*}
\end{quote}

\LaTeX 可以输入各种括号（bracketing）和分隔符（delimiters）。圆括号和方括号可以通过各自的键位输入，花括号需要使用
\mintinline{LaTeX}|\{| 命令，其他的分隔符都要用特殊的命令（如 \mintinline{LaTeX}{\updownarrow}）。

示例代码：
\begin{minted}{LaTeX}
    \begin{equation*}
        {a,b,c} \neq \{a,b,c\}
    \end{equation*}
\end{minted}

示例输出：
\begin{quote}
    \begin{equation*}
        {a,b,c} \neq \{a,b,c\}
    \end{equation*}
\end{quote}

把 \mintinline{LaTeX}|\left| 命令放在左分隔符前面，把 \mintinline{LaTeX}|\right| 放在右分隔符前面，这样
\LaTeX 就会自动地调整分隔符的大小。如果不想要右半个分隔符，使用不可见的 \mintinline{LaTeX}|\right.| 命令。

示例代码：
\begin{minted}{LaTeX}
    \begin{equation*}
        1 + \left(\frac{1}{1-x^{2}} \right)^3 \qquad
        \left. \ddagger \frac{~}{~}\right)
    \end{equation*}
\end{minted}

示例输出：
\begin{quote}
    \begin{equation*}
        1 + \left(\frac{1}{1-x^{2}} \right)^3 \qquad
        \left. \ddagger \frac{~}{~}\right)
    \end{equation*}
\end{quote}

在有些情况下，需要通过 \mintinline{LaTeX}|\big|、\mintinline{LaTeX}|\Big|、\mintinline{LaTeX}|\bigg|、
\mintinline{LaTeX}|\Bigg| 来手动指定分隔符的大小。

示例代码：
\begin{minted}{LaTeX}
    $\Big((x+1)(x-1)\Big)^{2}$ \\
    $\big( \Big( \bigg( \Bigg( \quad
    \big\} \Big\} \bigg\} \Bigg\} \quad
    \big\| \Big\| \bigg\| \Bigg\| \quad
    \big\Downarrow \Big\Downarrow
    \bigg\Downarrow \Bigg\Downarrow$
\end{minted}

示例输出：
\begin{quote}
    $\Big((x+1)(x-1)\Big)^{2}$ \\
    $\big( \Big( \bigg( \Bigg( \quad
    \big\} \Big\} \bigg\} \Bigg\} \quad
    \big\| \Big\| \bigg\| \Bigg\| \quad
    \big\Downarrow \Big\Downarrow
    \bigg\Downarrow \Bigg\Downarrow$
\end{quote}

\section{长公式折行}
有时候一个等式或方程太长了，有必要使其折行。但是折行会降低等式的可读性，为了提高可读性，在折行时可遵循以下规则：

\begin{enumerate}
    \item 应该在等号或者某个操作符前折行
    \item 优先在等号前而不是操作符前折行
    \item 优先在加号、减号而不是乘号前折行
    \item 避免其他的折行方式
\end{enumerate}

实现这种折行的最简单方式是使用 \texttt{amsmath} 宏包中的 \texttt{multline} 环境。

示例代码：
\begin{minted}{LaTeX}
    \begin{multline}
        a + b + c + d + e + f + g + h + i + j + k + l + m + n + o + p + q
        \\
        = r + s + t + u + v + w + x + y + z
    \end{multline}
\end{minted}

示例输出：
\begin{quote}
    \begin{multline}
        a + b + c + d + e + f + g + h + i + j + k + l + m + n + o + p + q
        \\
        = r + s + t + u + v + w + x + y + z
    \end{multline}
\end{quote}

与之相比，\texttt{equation} 环境可能会引入任意的一个或多个折行。而使用 \texttt{multline} 环境时，仅在需要折行
的地方使用 \mintinline{LaTeX}{\\} 命令进行折行。和 \texttt{equation*} 类似，\texttt{multline*} 不对公式进
行编号。

示例代码：
\begin{minted}{LaTeX}
    \begin{equation}
        a = b + c + d + e + f + g + h + i + j + k + l + m + n + o + p + q
        + r + s + t + u + v + w + x + y + z + aa + bb + cc + dd + ee + ff
        \label{eq:equation_too_long}
    \end{equation}

    \begin{multline}
        a = b + c + d + e + f + g + h + i + j + k + l + m + n + o + p + q \\
        + r + s + t + u + v + w + x + y + z + aa + bb + cc + dd + ee + ff
        \label{eq:equation_too_long_multl}
    \end{multline}
\end{minted}

示例输出：
\begin{quote}
    \begin{equation}
        a = b + c + d + e + f + g + h + i + j + k + l + m + n + o + p + q
        + r + s + t + u + v + w + x + y + z + aa + bb + cc + dd + ee + ff
        \label{eq:equation_too_long}
    \end{equation}

    \begin{multline}
        a = b + c + d + e + f + g + h + i + j + k + l + m + n + o + p + q \\
        + r + s + t + u + v + w + x + y + z + aa + bb + cc + dd + ee + ff
        \label{eq:equation_too_long_multl}
    \end{multline}
\end{quote}

比较公式~\ref{eq:equation_too_long} 和公式~\ref{eq:equation_too_long_multl}，由于等号右边很长，
公式~\ref{eq:equation_too_long_multl} 的输出更好一些，但是违反了等号优先于加号、减号的规则。更好的解决方案是
使用 \texttt{IEEEeqnarray} 环境，将在下一小节讨论。


\end{document}
